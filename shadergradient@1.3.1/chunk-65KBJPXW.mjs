import{a as m,b as r}from"./chunk-F3ULA5MU.mjs";import{a}from"./chunk-GMCKMPCO.mjs";import{useEffect as H,useMemo as M}from"react";import*as l from"three";import{useFrame as d}from"@react-three/fiber";import{jsx as j}from"react/jsx-runtime";var h=({uniforms:n,vertexShader:E,fragmentShader:g,onInit:f})=>{let i=M(()=>{let c=Object.entries(n),v=n.colors,o=m(v[0]),t=m(v[1]),s=m(v[2]),T={uC1r:{value:r(o==null?void 0:o.r)},uC1g:{value:r(o==null?void 0:o.g)},uC1b:{value:r(o==null?void 0:o.b)},uC2r:{value:r(t==null?void 0:t.r)},uC2g:{value:r(t==null?void 0:t.g)},uC2b:{value:r(t==null?void 0:t.b)},uC3r:{value:r(s==null?void 0:s.r)},uC3g:{value:r(s==null?void 0:s.g)},uC3b:{value:r(s==null?void 0:s.b)}},p=c.reduce((e,[b,R])=>{let D=l.UniformsUtils.clone({[b]:{value:R}});return a(a({},e),D)},{}),u=new l.MeshPhysicalMaterial({userData:p,metalness:.2,side:l.DoubleSide,onBeforeCompile:e=>{e.uniforms=a(a(a({},e.uniforms),p),T),e.vertexShader=E,e.fragmentShader=g}});return c.forEach(([e])=>Object.defineProperty(u,e,{get:()=>u.uniforms[e].value,set:b=>u.uniforms[e].value=b})),f&&f(u),u},[n,E,g,f]);return H(()=>()=>{i.dispose()},[i]),d(({clock:c})=>{i.userData.uTime&&(i.userData.uTime.value=c.getElapsedTime())}),j("primitive",{attach:"material",object:i})};export{h as a};
